<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Happy Diwali My Love</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            background: radial-gradient(circle, #ffcc00, #ff6600);
            font-family: 'Poppins', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            overflow: hidden;
            position: relative;
        }

        h1 {
            font-size: 3em;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.4);
            z-index: 10;
            position: relative;
        }

        p {
            font-size: 1.2em;
            width: 80%;
            max-width: 600px;
            margin-top: 20px;
            z-index: 10;
            position: relative;
        }

        button {
            background-color: white;
            color: #ff6600;
            border: none;
            padding: 10px 20px;
            font-size: 1.1em;
            border-radius: 20px;
            cursor: pointer;
            transition: 0.3s;
            z-index: 10;
            position: relative;
            margin-top: 30px;
        }

        button:hover {
            background-color: #ffcc00;
            color: white;
        }

        .diya {
            position: absolute;
            bottom: 30px;
            width: 100px;
            height: 100px;
            animation: float 3s ease-in-out infinite;
            z-index: 10;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-15px);
            }
        }

        #fireworksCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        audio {
            display: none;
        }
    </style>
</head>
<body>
    <canvas id="fireworksCanvas"></canvas>
    <h1>Happy Diwali, My Love ‚ù§Ô∏è</h1>
    <p>Every Diwali is bright, but this one shines even more because of you. You light up my world in ways diyas never could. üí´

        
        My Dearest Dharmisha,

This Diwali, as the lights glow bright and the air fills with joy, my heart shines even more because of you. 
You are the light of my life, my safest place, and my forever happiness. 
May this festival of lights bring endless smiles, love, and success to you and illuminate every corner of our journey together. 
Just like these Diyas, may our love keep shining brighter every day, even when we‚Äôre apart and even when challenges come. 
Happy Diwali, my love. I am grateful every day for you. ü´∂üèªü©∑üéÄ

Always yours,
Niharrrrrrü´Ä
    </p>
    <button onclick="playMusic()">Play Background Music</button>

    <img src="https://cdn-icons-png.flaticon.com/512/3037/3037781.png" alt="Diya" class="diya" />

    <audio id="bgMusic" loop>
        <source src="background.mp3" type="audio/mpeg" />
        Your browser does not support the audio tag.
    </audio>

    <script>
        // Play background music function
        function playMusic() {
            const music = document.getElementById('bgMusic');
            music.play();
        }

        // Fireworks animation code
        const canvas = document.getElementById('fireworksCanvas');
        const ctx = canvas.getContext('2d');
        let cw, ch;

        function resizeCanvas() {
            cw = canvas.width = window.innerWidth;
            ch = canvas.height = window.innerHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // Firework and Particle classes
        class Firework {
            constructor(sx, sy, tx, ty) {
                this.x = sx;
                this.y = sy;
                this.sx = sx;
                this.sy = sy;
                this.tx = tx;
                this.ty = ty;
                this.distanceToTarget = getDistance(sx, sy, tx, ty);
                this.distanceTraveled = 0;
                this.coordinates = [];
                this.coordinateCount = 3;
                while (this.coordinateCount--) {
                    this.coordinates.push([this.x, this.y]);
                }
                this.angle = Math.atan2(ty - sy, tx - sx);
                this.speed = 5;
                this.acceleration = 1.05;
                this.brightness = random(50, 70);
                this.targetRadius = 1;
            }
            update(index) {
                this.coordinates.pop();
                this.coordinates.unshift([this.x, this.y]);
                if (this.targetRadius < 8) {
                    this.targetRadius += 0.3;
                } else {
                    this.targetRadius = 1;
                }
                this.speed *= this.acceleration;
                let vx = Math.cos(this.angle) * this.speed;
                let vy = Math.sin(this.angle) * this.speed;
                this.distanceTraveled = getDistance(this.sx, this.sy, this.x + vx, this.y + vy);
                if (this.distanceTraveled >= this.distanceToTarget) {
                    createParticles(this.tx, this.ty);
                    fireworks.splice(index, 1);
                } else {
                    this.x += vx;
                    this.y += vy;
                }
            }
            draw() {
                ctx.beginPath();
                ctx.moveTo(this.coordinates[this.coordinates.length - 1][0], this.coordinates[this.coordinates.length - 1][1]);
                ctx.lineTo(this.x, this.y);
                ctx.strokeStyle = 'hsl(' + random(0, 360) + ', 100%, ' + this.brightness + '%)';
                ctx.stroke();

                ctx.beginPath();
                ctx.arc(this.tx, this.ty, this.targetRadius, 0, Math.PI * 2);
                ctx.stroke();
            }
        }

        class Particle {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.coordinates = [];
                this.coordinateCount = 5;
                while (this.coordinateCount--) {
                    this.coordinates.push([this.x, this.y]);
                }
                this.angle = random(0, Math.PI * 2);
                this.speed = random(1, 10);
                this.friction = 0.95;
                this.gravity = 1;
                this.hue = random(0, 360);
                this.brightness = random(50, 80);
                this.alpha = 1;
                this.decay = random(0.015, 0.03);
            }
            update(index) {
                this.coordinates.pop();
                this.coordinates.unshift([this.x, this.y]);
                this.speed *= this.friction;
                this.x += Math.cos(this.angle) * this.speed;
                this.y += Math.sin(this.angle) * this.speed + this.gravity;
                this.alpha -= this.decay;

                if (this.alpha <= 0) {
                    particles.splice(index, 1);
                }
            }
            draw() {
                ctx.beginPath();
                ctx.moveTo(this.coordinates[this.coordinates.length - 1][0], this.coordinates[this.coordinates.length - 1][1]);
                ctx.lineTo(this.x, this.y);
                ctx.strokeStyle = 'hsla(' + this.hue + ', 100%, ' + this.brightness + '%, ' + this.alpha + ')';
                ctx.stroke();
            }
        }

        function random(min, max) {
            return Math.random() * (max - min) + min;
        }

        function getDistance(x1, y1, x2, y2) {
            let xDist = x2 - x1;
            let yDist = y2 - y1;
            return Math.sqrt(xDist * xDist + yDist * yDist);
        }

        let fireworks = [];
        let particles = [];
        let timerTick = 0;
        let timerTotal = 80;

        function createParticles(x, y) {
            let particleCount = 30;
            while (particleCount--) {
                particles.push(new Particle(x, y));
            }
        }

        function loop() {
            requestAnimationFrame(loop);

            // Clear canvas with opacity for trails effect
            ctx.globalCompositeOperation = 'destination-out';
            ctx.fillStyle = 'rgba(0, 0, 0, 0.5)';
            ctx.fillRect(0, 0, cw, ch);
            ctx.globalCompositeOperation = 'lighter';

            for (let i = fireworks.length - 1; i >= 0; i--) {
                fireworks[i].draw();
                fireworks[i].update(i);
            }

            for (let i = particles.length - 1; i >= 0; i--) {
                particles[i].draw();
                particles[i].update(i);
            }

            if (timerTick >= timerTotal) {
                let startX = cw / 2;
                let startY = ch;
                let targetX = random(100, cw - 100);
                let targetY = random(50, ch / 2);
                fireworks.push(new Firework(startX, startY, targetX, targetY));
                timerTick = 0;
            } else {
                timerTick++;
            }
        }

        window.onload = loop;
    </script>
</body>
</html>
